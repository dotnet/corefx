<Project>
  <PropertyGroup>
    <TargetFramework>netcoreapp3.1</TargetFramework>
    <NETCoreAppMaximumVersion>3.1</NETCoreAppMaximumVersion>
    <RuntimeFrameworkVersion>$(MicrosoftNETCoreAppPackageVersion)</RuntimeFrameworkVersion>
    <DisableImplicitFrameworkReferences>true</DisableImplicitFrameworkReferences>
  </PropertyGroup>

  <ItemGroup>
    <!-- Since we don't have an SDK that knows about 3.1 framework, we should specify it manually. -->
    <KnownAppHostPack Include="@(KnownAppHostPack->WithMetadataValue('TargetFramework', 'netcoreapp3.0'))"
        TargetFramework="netcoreapp3.1" />
    <KnownFrameworkReference Include="@(KnownFrameworkReference->WithMetadataValue('TargetFramework', 'netcoreapp3.0'))"
        TargetFramework="netcoreapp3.1" />
    
    <!-- Reference base shared framework at incoming dependency flow version, not bundled sdk version. -->
    <FrameworkReference Update="Microsoft.NETCore.App"
        Condition="'$(TargetFramework)' == 'netcoreapp3.1'"
        RuntimeFrameworkVersion="$(MicrosoftNETCoreAppRuntimeVersion)"
        TargetingPackVersion="$(MicrosoftNETCoreAppRefPackageVersion)" />
  </ItemGroup>
</Project>
