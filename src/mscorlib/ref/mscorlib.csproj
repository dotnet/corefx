<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), dir.props))\dir.props" />
  <PropertyGroup>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <ProjectGuid>{E9E2FEE9-3F81-4B59-A24C-0DBFC47C960C}</ProjectGuid>
    <OutputType>Library</OutputType>
    <PackageTargetFramework>net46</PackageTargetFramework>
    <NuGetTargetMoniker>.NETFramework,Version=v4.6</NuGetTargetMoniker>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <AddAdditionalExplicitAssemblyReferences>false</AddAdditionalExplicitAssemblyReferences>
    <NoStdLib>true</NoStdLib>
    <NoCompilerStandardLib>true</NoCompilerStandardLib>
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="mscorlib.cs" />
  </ItemGroup>
  <ItemGroup>
    <None Include="project.json" />
  </ItemGroup>

  <Target Name="GenerateCompilerResponseFile">
    <Message Text="Generating module name response file: $(IntermediateOutputPath)\moduleName.$(AssemblyName).rsp" />

    <!-- We need to set the runtimemetadataversion -->
    <WriteLinesToFile File="$(IntermediateOutputPath)\moduleName.$(AssemblyName).rsp"
                      Lines="/runtimemetadataversion:v4.0.30319"
                      Overwrite="true" />

    <ItemGroup>
      <Clean Include="$(IntermediateOutputPath)\moduleName.$(AssemblyName).rsp" />
    </ItemGroup>
    <PropertyGroup>
      <CompilerResponseFile>$(IntermediateOutputPath)\moduleName.$(AssemblyName).rsp;$(CompilerResponseFile)</CompilerResponseFile>
    </PropertyGroup>
  </Target>
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), dir.targets))\dir.targets" />
  <Import Project="$(CommonPath)/../Compat.targets" />
  <PropertyGroup>
    <CompileDependsOn>GenerateCompilerResponseFile;$(CompileDependsOn)</CompileDependsOn>
  </PropertyGroup>
</Project>