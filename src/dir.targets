<Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <ErrorIfBuildToolsRestoredFromIndividualProject Condition="!Exists('$(ToolsDir)')">true</ErrorIfBuildToolsRestoredFromIndividualProject>
  </PropertyGroup>
  
  <Import Project="..\dir.targets" />

  <!-- Returns the assembly version of the project for consumption
       by the NuGet package generation -->
  <Target Name="GetAssemblyVersion"
          Returns="$(AssemblyVersion)"/>

  <!-- This Build target is only run if build tools have not been restored.  Once build tools have been restored, these gets overridden 
       by the build tools import for the Build target. -->
  <Target Name="Build" Condition="!Exists('$(ToolsDir)Build.Common.targets')" >
    <CallTarget Targets="_RestoreBuildTools" />
  </Target>
  <!-- Set a default empty clean target -->
  <Target Name="Clean" >
    <Message Importance="High" Text="'Clean' target is empty. Restore build tools to enable 'Clean' target." />
  </Target>

  <Import Project="$(ToolsDir)Build.Common.targets" Condition="Exists('$(ToolsDir)Build.Common.targets')" />

</Project>
